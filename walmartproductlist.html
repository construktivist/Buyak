<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>

  <!--CSS & Bootstrap Links-->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!-- Custom CSS -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/stylelanding.css" rel="stylesheet">
    
    <!--Bootstrap Scripts  -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


  <!-- Custom Fonts -->
    
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Fontawesome Icon CDN -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">  
</head>
<body>
<div class="container">
    <div class="row animated bounceInLeft">
      <div class="col-md-12 text-center">
        <div id="buttons">
            <button data-person="TV">Search Your Fav TV</button>
            <button data-person="Ipod">Search Your Fav IPOD</button>
            <button data-person="Mixer and Grinder">Get Kitchen Gadgets</button>
        </div>
      </div>
 </div>
 </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12" id="productList">
            </div>
        </div>
    </div>

<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
    $('button').on('click', function() {
        var p = $(this).data('person');
        console.log("Value of P : " +p);
        var queryURL = "https://api.walmartlabs.com/v1/search?apiKey=bs4qexhbfxu9xaee8f53bhyr&query=" + p;

        $.ajax({
                url: queryURL,
                method: 'GET',
                crossDomain: true,
                dataType: 'jsonp'
            })
            .done(function(response) {
                var results = response;
                console.log("Results: " + JSON.stringify(results));

                for (var i = 0; i < results.items.length; i++) {
                    //Make outer div 
                    var containerDiv = $("<div>");
                    containerDiv.addClass("col-sm-4 animated zoomIn");
                    //make  inner div
                    var divItem = $("<div>");
                    divItem.addClass("col-sm-12");
                    divItem.addClass("well");
                    divItem.addClass("item");

                    //add row for title
                    var rowTitleDiv = $("<div>");
                    rowTitleDiv.addClass("row");
                    var nameItem = results.items[i].name;
                    var divTitle = $('<div class="col-md-12">').html(nameItem);
                    //divTitle.addClass("titleProduct");
                    rowTitleDiv.append(divTitle);
                    divItem.append(rowTitleDiv);

                    //Add row to hold image col and productinfo
                    var rowProductDiv = $("<div>");
                    rowProductDiv.addClass("row");
                    var colproductDiv = $("<div>");
                    colproductDiv.addClass("col-md-12");

                    var divImage = $("<div>");
                    divImage.addClass("col-sm-6");
                    var personImage = $('<img>');
                    personImage.attr('src', results.items[i].mediumImage);
                    personImage.addClass("img-responsive img-rounded");  
                    personImage.addClass("itemImage");
                    divImage.append(personImage);
                    colproductDiv.append(divImage);    
                    

                    //Add info section to product

                    var divInfo = $("<div>");
                    divInfo.addClass("col-sm-6");
                    var buttonWishList = $("<button>");
                    buttonWishList.attr("type", "submit");
                    buttonWishList.text("Add To Wish List");
                    buttonWishList.addClass("btn btn-default");
                    divInfo.append(buttonWishList);
                    colproductDiv.append(divInfo);

                    rowProductDiv.append(colproductDiv); 
                    divItem.append(rowProductDiv);  
                    
                    
                    containerDiv.append(divItem);
                    $('#productList').append(containerDiv);
                }
            });
    });
</script>
</body>

</html>
